# Плагин InventoryGoal

**InventoryGoal** — это простой плагин для Bukkit/Spigot, который позволяет игрокам устанавливать цели для определённых предметов в их сундуках. Плагин отображает табличку рядом с сундуком, отслеживающую, сколько конкретного предмета было собрано, обновляя прогресс по мере добавления предметов в сундук.

## Особенности

- Установка целей для сбора предметов через таблички рядом с сундуками.
- Отслеживание количества предметов в сундуке, соответствующих указанному материалу.
- Отображение прогресса на табличке, показывая текущее количество собранных предметов и требуемое количество.
- Автоматическое создание невидимого стоящего снаряда (Armor Stand) над сундуком для визуального отображения цели.
- Удаление стоящих снарядов при разрушении сундука или таблички.

## Установка

1. Скачайте последнюю версию плагина `InventoryGoal`.
2. Поместите файл `.jar` в папку `plugins` вашего сервера.
3. Перезапустите сервер или выполните команду перезагрузки.
4. Плагин должен быть активирован, и вы сможете начать его использовать в Minecraft.

## Использование

1. **Создание цели:**
   - Игрок может создать табличку с двумя строками:
     - Строка 1: Название материала (например, `stone` или `diamond`).
     - Строка 2: Требуемое количество (например, `64`).
   
   Пример:

    stone
    64


Плагин автоматически:
- Заменит строку 1 на `[InventoryGoal]`.
- В строке 2 оставит название материала.
- В строке 3 отобразит прогресс в виде `0/64`.
- Строку 4 оставит пустой.

2. **Отслеживание прогресса:**
- После создания цели плагин автоматически будет отслеживать количество указанных предметов в сундуке.
- Табличка будет обновляться с количеством собранных предметов по мере добавления их в сундук.
- Над сундуком появится невидимый стоящий снаряд с изображением цели.

3. **Разрушение сундука/таблички:**
- Если сундук или табличка будет разрушен, стоящий снаряд автоматически удалится.

## События и слушатели

- **SignChangeEvent**: Срабатывает при создании или изменении таблички. Настроит цель для инвентаря, считывая материал и количество из таблички.
- **InventoryCloseEvent**: Срабатывает при закрытии инвентаря сундука. Проверяет наличие связанной таблички цели и обновляет прогресс на основе содержимого сундука.
- **BlockBreakEvent**: Срабатывает при разрушении блока (сундука или таблички). Обеспечивает удаление стоящих снарядов, связанных с сундуком.

## Структура кода

### `ResourceCollectorListener`

- **`onSignChange(SignChangeEvent event)`**: Обрабатывает создание целей инвентаря, считывая данные с таблички.
- **`onInventoryClose(InventoryCloseEvent event)`**: Проверяет наличие связанной таблички и обновляет прогресс в зависимости от содержимого сундука.
- **`createArmorStandAboveChest(Block chestBlock, Material material)`**: Создаёт невидимый стоящий снаряд над сундуком с заданным предметом.
- **`onBlockBreak(BlockBreakEvent event)`**: Убирает стоящие снаряды при разрушении сундука или таблички.
- **`findArmorStandAboveChest(Block chestBlock)`**: Находит и возвращает стоящий снаряд, расположенный над сундуком.

## Вклад

1. Сделайте форк репозитория.
2. Создайте новую ветку для вашей фичи или исправления ошибки.
3. Зафиксируйте ваши изменения и отправьте их в ваш форк.
4. Откройте pull request с чётким описанием ваших изменений.

## Лицензия

Этот проект лицензирован под MIT лицензией — см. файл [LICENSE](LICENSE) для подробностей.

---

Если у вас есть вопросы или предложения, создайте issue в репозитории на GitHub.
